/**
 * @file Self Test 事件 - 完整数据
 * @description 包含所有可能字段的完整 self_test 事件
 */

export const completeSelfTest = {
  userId: 'us-east-1:complete-user-001',
  eventId: 'event_selftest_complete_001',
  type: 'self_test',
  date: '2025-09-25T14:30:00.000Z',
  status: 'approved',
  createdAt: '2025-09-25T14:45:00.000Z',
  updatedAt: '2025-09-25T14:45:00.000Z',
  details: {
    // 顶层简化指标
    fundamentalFrequency: 195.5,
    pitch: {
      min: 150.2,
      max: 280.8,
    },
    formants: {
      f1: 720,
      f2: 1250,
      f3: 2650,
    },
    hnr: 18.5,
    jitter: 0.85,
    shimmer: 3.2,
    notes: '今天的练习效果不错，基频比上次提高了一些。',
    appUsed: 'Praat',
    sound: ['好'],
    voicing: ['夹了'],
    customSoundDetail: '',
    customVoicingDetail: '',
    
    // full_metrics - 完整的分析数据
    full_metrics: {
      formants_high: {
        F1: 750,
        F2: 1280,
        F3: 2700,
        B1: 80,
        B2: 120,
        B3: 150,
        F1_available: true,
        F2_available: true,
        best_segment_time: 2.5,
        f0_mean: 210.5,
        is_high_pitch: true,
        reason: 'SUCCESS',
        source_file: 'high_pitch_a.wav',
        spl_dbA_est: 68.5,
      },
      formants_low: {
        F1: 680,
        F2: 1180,
        F3: 2580,
        B1: 75,
        B2: 110,
        B3: 140,
        F1_available: true,
        F2_available: true,
        best_segment_time: 1.8,
        f0_mean: 175.3,
        is_high_pitch: false,
        reason: 'SUCCESS',
        source_file: 'low_pitch_a.wav',
        spl_dbA_est: 65.2,
      },
      questionnaires: {
        'OVHS-9 Total': 25,
        'TVQ-G Total': 18,
        'TVQ-G Percent': '45%',
        RBH: {
          R: 1,
          B: 2,
          H: 1,
        },
      },
      reading: {
        duration_s: 45.2,
        f0_mean: 192.8,
        f0_sd: 28.5,
        f0_stats: {
          median: 190.5,
          p10: 165.2,
          p90: 225.8,
        },
        pause_count: 8,
        voiced_ratio: 0.78,
      },
      spontaneous: {
        duration_s: 62.5,
        f0_mean: 188.5,
        f0_sd: 32.1,
        f0_stats: {
          median: 185.2,
          p10: 160.8,
          p90: 220.5,
        },
        pause_count: 12,
        voiced_ratio: 0.72,
      },
      sustained: {
        f0_mean: 198.5,
        f0_sd: 5.2,
        hnr_db: 18.5,
        jitter_local_percent: 0.85,
        shimmer_local_percent: 3.2,
        mpt_s: 18.5,
        spl_dbA_est: 70.2,
        formant_analysis_failed: false,
        formant_analysis_reason_high: '',
        formant_analysis_reason_low: '',
        formant_analysis_reason_sustained: '',
        formants_high: {
          F1: 750,
          F2: 1280,
          F3: 2700,
          f0_mean: 210.5,
          spl_dbA_est: 68.5,
          reason: 'SUCCESS',
          error_details: '',
        },
        formants_low: {
          F1: 680,
          F2: 1180,
          F3: 2580,
          f0_mean: 175.3,
          spl_dbA_est: 65.2,
          reason: 'SUCCESS',
          error_details: '',
        },
        formants_sustained: {
          F1: 720,
          F2: 1250,
          F3: 2650,
          B1: 80,
          B2: 120,
          B3: 150,
          F1_available: true,
          F2_available: true,
          best_segment_time: 3.5,
          f0_mean: 198.5,
          is_high_pitch: true,
          spl_dbA_est: 70.2,
          reason: 'SUCCESS',
          error_details: '',
        },
      },
      vrp: {
        f0_min: 145.5,
        f0_max: 285.8,
        spl_min: 55.2,
        spl_max: 82.5,
        error: '',
        bins: [
          {
            f0_center_hz: 160,
            semi: -5,
            spl_min: 58.5,
            spl_max: 72.8,
            spl_mean: 65.2,
            count: 25,
          },
          {
            f0_center_hz: 180,
            semi: 0,
            spl_min: 60.2,
            spl_max: 75.5,
            spl_mean: 67.8,
            count: 35,
          },
          {
            f0_center_hz: 200,
            semi: 5,
            spl_min: 62.5,
            spl_max: 78.2,
            spl_mean: 70.5,
            count: 42,
          },
          {
            f0_center_hz: 220,
            semi: 10,
            spl_min: 64.8,
            spl_max: 80.5,
            spl_mean: 72.8,
            count: 38,
          },
        ],
      },
    },
  },
  attachments: [
    {
      fileUrl: 'attachments/us-east-1:complete-user-001/event_selftest_complete_001/audio_sample.wav',
      fileType: 'audio/wav',
      fileName: 'audio_sample.wav',
    },
    {
      fileUrl: 'attachments/us-east-1:complete-user-001/event_selftest_complete_001/praat_report.pdf',
      fileType: 'application/pdf',
      fileName: 'praat_report.pdf',
    },
  ],
};
